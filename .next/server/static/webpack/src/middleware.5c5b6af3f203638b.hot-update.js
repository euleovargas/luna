"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src/middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ middlewareWrapperTemplate),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var _sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sentry/nextjs */ \"(middleware)/./node_modules/@sentry/nextjs/build/esm/common/wrapMiddlewareWithSentry.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/jwt */ \"(middleware)/./node_modules/next-auth/jwt/index.js\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(middleware)/./node_modules/next/dist/esm/server/web/exports/next-response.js\");\n\n\n\n\nasync function middleware$1(request) {\n    const token = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_0__.getToken)({\n        req: request\n    });\n    const isAuthPage = request.nextUrl.pathname.startsWith(\"/login\") || request.nextUrl.pathname.startsWith(\"/register\");\n    const isHomePage = request.nextUrl.pathname === \"/\";\n    // Redireciona da home page baseado no status de autenticação\n    if (isHomePage) {\n        if (token) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].redirect(new URL(\"/dashboard\", request.url));\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].redirect(new URL(\"/login\", request.url));\n    }\n    // Redireciona das páginas de autenticação se já estiver logado\n    if (isAuthPage) {\n        if (token) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].redirect(new URL(\"/dashboard\", request.url));\n        }\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].next();\n    }\n    // Protege rotas autenticadas\n    if (!token) {\n        const redirectUrl = new URL(\"/login\", request.url);\n        redirectUrl.searchParams.set(\"callbackUrl\", request.nextUrl.pathname);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].redirect(redirectUrl);\n    }\n    return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_1__[\"default\"].next();\n}\nconst config = {\n    matcher: [\n        \"/\",\n        \"/dashboard/:path*\",\n        \"/profile/:path*\",\n        \"/login\",\n        \"/register\"\n    ]\n};\n\nvar serverComponentModule = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    config: config,\n    middleware: middleware$1\n});\n\n/*\n * This file is a template for the code which will be substituted when our webpack loader handles middleware files.\n *\n * We use `__SENTRY_WRAPPING_TARGET_FILE__.cjs` as a placeholder for the path to the file being wrapped. Because it's not a real package,\n * this causes both TS and ESLint to complain, hence the pragma comments below.\n */\n\n\nconst userApiModule = serverComponentModule ;\n\n// Default to undefined. It's possible for Next.js users to not define any exports/handlers in an API route. If that is\n// the case Next.js wil crash during runtime but the Sentry SDK should definitely not crash so we need tohandle it.\nlet userProvidedNamedHandler = undefined;\nlet userProvidedDefaultHandler = undefined;\n\nif ('middleware' in userApiModule && typeof userApiModule.middleware === 'function') {\n  // Handle when user defines via named ESM export: `export { middleware };`\n  userProvidedNamedHandler = userApiModule.middleware;\n} else if ('default' in userApiModule && typeof userApiModule.default === 'function') {\n  // Handle when user defines via ESM export: `export default myFunction;`\n  userProvidedDefaultHandler = userApiModule.default;\n} else if (typeof userApiModule === 'function') {\n  // Handle when user defines via CJS export: \"module.exports = myFunction;\"\n  userProvidedDefaultHandler = userApiModule;\n}\n\nconst middleware = userProvidedNamedHandler\n  ? _sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__.wrapMiddlewareWithSentry(userProvidedNamedHandler)\n  : undefined;\nconst middlewareWrapperTemplate = userProvidedDefaultHandler ? _sentry_nextjs__WEBPACK_IMPORTED_MODULE_2__.wrapMiddlewareWithSentry(userProvidedDefaultHandler) : undefined;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFJTyxlQUFlQSxhQUFXQyxPQUFvQjtJQUNuRCxNQUFNQyxLQUFBQSxHQUFRLE1BQU1DLHVEQUFTO1FBQUVDLEdBQUtILEVBQUFBLE9BQUFBO0FBQVE7QUFDNUMsVUFBTUksVUFBYUosR0FBQUEsT0FBQUEsQ0FBUUssT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQyxhQUNyQ1AsUUFBUUssT0FBTyxDQUFDQyxRQUFRLENBQUNDLFVBQVUsQ0FBQztBQUN0RCxVQUFNQyxVQUFhUixHQUFBQSxPQUFBQSxDQUFRSyxPQUFPLENBQUNDLFFBQVEsS0FBSzs7QUFHaEQsUUFBSUUsVUFBWTtBQUNkLFlBQUlQLEtBQU87QUFDVCxtQkFBT1Esa0ZBQVlBLENBQUNDLFFBQVEsQ0FBQyxJQUFJQyxHQUFJLGVBQWNYLFFBQVFZLEdBQUc7QUFDaEU7QUFDQSxlQUFPSCxrRkFBWUEsQ0FBQ0MsUUFBUSxDQUFDLElBQUlDLEdBQUksV0FBVVgsUUFBUVksR0FBRztBQUM1RDs7QUFHQSxRQUFJUixVQUFZO0FBQ2QsWUFBSUgsS0FBTztBQUNULG1CQUFPUSxrRkFBWUEsQ0FBQ0MsUUFBUSxDQUFDLElBQUlDLEdBQUksZUFBY1gsUUFBUVksR0FBRztBQUNoRTtBQUNBLGVBQU9ILGtGQUFZQSxDQUFDSSxJQUFJO0FBQzFCOztBQUdBLFFBQUksQ0FBQ1osS0FBTztBQUNWLGNBQU1hLFdBQWMsT0FBSUgsR0FBSSxXQUFVWCxRQUFRWSxHQUFHO1FBQ2pERSxXQUFZQyxDQUFBQSxZQUFZLENBQUNDLEdBQUcsQ0FBQyxlQUFlaEIsT0FBUUssQ0FBQUEsT0FBTyxDQUFDQyxRQUFRO1FBQ3BFLE9BQU9HLGtGQUFBQSxDQUFhQyxRQUFRLENBQUNJLFdBQUFBLENBQUFBLENBQUFBO0FBQy9CO0FBRUEsV0FBT0wsa0ZBQVlBLENBQUNJLElBQUk7QUFDMUI7TUFFYUksTUFBUztJQUNwQkMsT0FBUztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDRDtBQUNIOzs7Ozs7OztBQ3hDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxhQUFhLEdBQUcscUJBQXFCLEVBQUU7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3QkFBd0IsR0FBRyxTQUFTLENBQUM7QUFDekMsSUFBSSwwQkFBMEIsR0FBRyxTQUFTLENBQUM7QUFDM0M7QUFDQSxJQUFJLFlBQVksSUFBSSxhQUFhLElBQUksT0FBTyxhQUFhLENBQUMsVUFBVSxLQUFLLFVBQVUsRUFBRTtBQUNyRjtBQUNBLEVBQUUsd0JBQXdCLEdBQUcsYUFBYSxDQUFDLFVBQVUsQ0FBQztBQUN0RCxDQUFDLE1BQU0sSUFBSSxTQUFTLElBQUksYUFBYSxJQUFJLE9BQU8sYUFBYSxDQUFDLE9BQU8sS0FBSyxVQUFVLEVBQUU7QUFDdEY7QUFDQSxFQUFFLDBCQUEwQixHQUFHLGFBQWEsQ0FBQyxPQUFPLENBQUM7QUFDckQsQ0FBQyxNQUFNLElBQUksT0FBTyxhQUFhLEtBQUssVUFBVSxFQUFFO0FBQ2hEO0FBQ0EsRUFBRSwwQkFBMEIsR0FBRyxhQUFhLENBQUM7QUFDN0MsQ0FBQztBQUNEO0FBQ0ssTUFBQyxVQUFVLEdBQUcsd0JBQXdCO0FBQzNDLElBQUksb0VBQStCLENBQUMsd0JBQXdCLENBQUM7QUFDN0QsSUFBSSxVQUFVO0FBQ1QsTUFBQyx5QkFBeUIsR0FBRywwQkFBMEIsR0FBRyxvRUFBK0IsQ0FBQywwQkFBMEIsQ0FBQyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS9zcmMvbWlkZGxld2FyZS50cz8wM2JhIiwid2VicGFjazovL19OX0Uvc2VudHJ5LXdyYXBwZXItbW9kdWxlPzZmOTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICduZXh0LWF1dGgvand0J1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgdHlwZSB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtaWRkbGV3YXJlKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIGNvbnN0IHRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyByZXE6IHJlcXVlc3QgfSlcbiAgY29uc3QgaXNBdXRoUGFnZSA9IHJlcXVlc3QubmV4dFVybC5wYXRobmFtZS5zdGFydHNXaXRoKCcvbG9naW4nKSB8fCBcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lLnN0YXJ0c1dpdGgoJy9yZWdpc3RlcicpXG4gIGNvbnN0IGlzSG9tZVBhZ2UgPSByZXF1ZXN0Lm5leHRVcmwucGF0aG5hbWUgPT09ICcvJ1xuXG4gIC8vIFJlZGlyZWNpb25hIGRhIGhvbWUgcGFnZSBiYXNlYWRvIG5vIHN0YXR1cyBkZSBhdXRlbnRpY2HDp8Ojb1xuICBpZiAoaXNIb21lUGFnZSkge1xuICAgIGlmICh0b2tlbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXcgVVJMKCcvZGFzaGJvYXJkJywgcmVxdWVzdC51cmwpKVxuICAgIH1cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLnJlZGlyZWN0KG5ldyBVUkwoJy9sb2dpbicsIHJlcXVlc3QudXJsKSlcbiAgfVxuXG4gIC8vIFJlZGlyZWNpb25hIGRhcyBww6FnaW5hcyBkZSBhdXRlbnRpY2HDp8OjbyBzZSBqw6EgZXN0aXZlciBsb2dhZG9cbiAgaWYgKGlzQXV0aFBhZ2UpIHtcbiAgICBpZiAodG9rZW4pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTCgnL2Rhc2hib2FyZCcsIHJlcXVlc3QudXJsKSlcbiAgICB9XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KClcbiAgfVxuXG4gIC8vIFByb3RlZ2Ugcm90YXMgYXV0ZW50aWNhZGFzXG4gIGlmICghdG9rZW4pIHtcbiAgICBjb25zdCByZWRpcmVjdFVybCA9IG5ldyBVUkwoJy9sb2dpbicsIHJlcXVlc3QudXJsKVxuICAgIHJlZGlyZWN0VXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NhbGxiYWNrVXJsJywgcmVxdWVzdC5uZXh0VXJsLnBhdGhuYW1lKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QocmVkaXJlY3RVcmwpXG4gIH1cblxuICByZXR1cm4gTmV4dFJlc3BvbnNlLm5leHQoKVxufVxuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBtYXRjaGVyOiBbXG4gICAgJy8nLFxuICAgICcvZGFzaGJvYXJkLzpwYXRoKicsXG4gICAgJy9wcm9maWxlLzpwYXRoKicsXG4gICAgJy9sb2dpbicsXG4gICAgJy9yZWdpc3RlcidcbiAgXVxufVxuIiwiaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gJ0BzZW50cnkvbmV4dGpzJztcbmltcG9ydCAqIGFzIHNlcnZlckNvbXBvbmVudE1vZHVsZSBmcm9tICdfX1NFTlRSWV9XUkFQUElOR19UQVJHRVRfRklMRV9fLmNqcyc7XG5leHBvcnQgKiBmcm9tICdfX1NFTlRSWV9XUkFQUElOR19UQVJHRVRfRklMRV9fLmNqcyc7XG5cbi8qXG4gKiBUaGlzIGZpbGUgaXMgYSB0ZW1wbGF0ZSBmb3IgdGhlIGNvZGUgd2hpY2ggd2lsbCBiZSBzdWJzdGl0dXRlZCB3aGVuIG91ciB3ZWJwYWNrIGxvYWRlciBoYW5kbGVzIG1pZGRsZXdhcmUgZmlsZXMuXG4gKlxuICogV2UgdXNlIGBfX1NFTlRSWV9XUkFQUElOR19UQVJHRVRfRklMRV9fLmNqc2AgYXMgYSBwbGFjZWhvbGRlciBmb3IgdGhlIHBhdGggdG8gdGhlIGZpbGUgYmVpbmcgd3JhcHBlZC4gQmVjYXVzZSBpdCdzIG5vdCBhIHJlYWwgcGFja2FnZSxcbiAqIHRoaXMgY2F1c2VzIGJvdGggVFMgYW5kIEVTTGludCB0byBjb21wbGFpbiwgaGVuY2UgdGhlIHByYWdtYSBjb21tZW50cyBiZWxvdy5cbiAqL1xuXG5cbmNvbnN0IHVzZXJBcGlNb2R1bGUgPSBzZXJ2ZXJDb21wb25lbnRNb2R1bGUgO1xuXG4vLyBEZWZhdWx0IHRvIHVuZGVmaW5lZC4gSXQncyBwb3NzaWJsZSBmb3IgTmV4dC5qcyB1c2VycyB0byBub3QgZGVmaW5lIGFueSBleHBvcnRzL2hhbmRsZXJzIGluIGFuIEFQSSByb3V0ZS4gSWYgdGhhdCBpc1xuLy8gdGhlIGNhc2UgTmV4dC5qcyB3aWwgY3Jhc2ggZHVyaW5nIHJ1bnRpbWUgYnV0IHRoZSBTZW50cnkgU0RLIHNob3VsZCBkZWZpbml0ZWx5IG5vdCBjcmFzaCBzbyB3ZSBuZWVkIHRvaGFuZGxlIGl0LlxubGV0IHVzZXJQcm92aWRlZE5hbWVkSGFuZGxlciA9IHVuZGVmaW5lZDtcbmxldCB1c2VyUHJvdmlkZWREZWZhdWx0SGFuZGxlciA9IHVuZGVmaW5lZDtcblxuaWYgKCdtaWRkbGV3YXJlJyBpbiB1c2VyQXBpTW9kdWxlICYmIHR5cGVvZiB1c2VyQXBpTW9kdWxlLm1pZGRsZXdhcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gSGFuZGxlIHdoZW4gdXNlciBkZWZpbmVzIHZpYSBuYW1lZCBFU00gZXhwb3J0OiBgZXhwb3J0IHsgbWlkZGxld2FyZSB9O2BcbiAgdXNlclByb3ZpZGVkTmFtZWRIYW5kbGVyID0gdXNlckFwaU1vZHVsZS5taWRkbGV3YXJlO1xufSBlbHNlIGlmICgnZGVmYXVsdCcgaW4gdXNlckFwaU1vZHVsZSAmJiB0eXBlb2YgdXNlckFwaU1vZHVsZS5kZWZhdWx0ID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIEhhbmRsZSB3aGVuIHVzZXIgZGVmaW5lcyB2aWEgRVNNIGV4cG9ydDogYGV4cG9ydCBkZWZhdWx0IG15RnVuY3Rpb247YFxuICB1c2VyUHJvdmlkZWREZWZhdWx0SGFuZGxlciA9IHVzZXJBcGlNb2R1bGUuZGVmYXVsdDtcbn0gZWxzZSBpZiAodHlwZW9mIHVzZXJBcGlNb2R1bGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gSGFuZGxlIHdoZW4gdXNlciBkZWZpbmVzIHZpYSBDSlMgZXhwb3J0OiBcIm1vZHVsZS5leHBvcnRzID0gbXlGdW5jdGlvbjtcIlxuICB1c2VyUHJvdmlkZWREZWZhdWx0SGFuZGxlciA9IHVzZXJBcGlNb2R1bGU7XG59XG5cbmNvbnN0IG1pZGRsZXdhcmUgPSB1c2VyUHJvdmlkZWROYW1lZEhhbmRsZXJcbiAgPyBTZW50cnkud3JhcE1pZGRsZXdhcmVXaXRoU2VudHJ5KHVzZXJQcm92aWRlZE5hbWVkSGFuZGxlcilcbiAgOiB1bmRlZmluZWQ7XG5jb25zdCBtaWRkbGV3YXJlV3JhcHBlclRlbXBsYXRlID0gdXNlclByb3ZpZGVkRGVmYXVsdEhhbmRsZXIgPyBTZW50cnkud3JhcE1pZGRsZXdhcmVXaXRoU2VudHJ5KHVzZXJQcm92aWRlZERlZmF1bHRIYW5kbGVyKSA6IHVuZGVmaW5lZDtcblxuZXhwb3J0IHsgbWlkZGxld2FyZVdyYXBwZXJUZW1wbGF0ZSBhcyBkZWZhdWx0LCBtaWRkbGV3YXJlIH07XG4iXSwibmFtZXMiOlsibWlkZGxld2FyZSIsInJlcXVlc3QiLCJ0b2tlbiIsImdldFRva2VuIiwicmVxIiwiaXNBdXRoUGFnZSIsIm5leHRVcmwiLCJwYXRobmFtZSIsInN0YXJ0c1dpdGgiLCJpc0hvbWVQYWdlIiwiTmV4dFJlc3BvbnNlIiwicmVkaXJlY3QiLCJVUkwiLCJ1cmwiLCJuZXh0IiwicmVkaXJlY3RVcmwiLCJzZWFyY2hQYXJhbXMiLCJzZXQiLCJjb25maWciLCJtYXRjaGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});